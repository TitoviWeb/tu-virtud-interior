<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tu Virtud Interior</title>
  <style>
    :root{
      --grad1:#5b8dfd;--grad2:#9e7bff;--accent:#ffda79;--text:#ffffff;
    }
    *{box-sizing:border-box}
    body{
      font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial;
      /* Fondo con imagen de dioses griegos + capa clara para legibilidad */
      background: linear-gradient(rgba(255,255,255,0), rgba(255,255,255,0)), url('fondo-dioses.png') center center / cover no-repeat fixed;
      color: var(--text);
      margin: 0; padding: 0;
      min-height: 100dvh;
      display:flex; align-items:center; justify-content:center;
    }
    h1,h2{margin:0 0 12px; text-align:center; text-shadow:0 2px 4px rgba(0,0,0,.25)}
    p{margin:8px 0}

    .container {
  width: min(680px,92vw);
  background: rgba(181, 136, 99, 0.85); /* Caf√© claro transl√∫cido */
  backdrop-filter: blur(6px);
  border: 1px solid rgba(181, 136, 99, 0.5);
  border-radius: 18px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
  padding: 26px 24px;
}

    /* Start screen animations */
    .fadeUp{animation:fadeUp .8s ease both}
    @keyframes fadeUp{from{opacity:0; transform: translateY(16px)} to{opacity:1; transform: translateY(0)}}

    /* Question fade */
    .fadeIn{animation:fadeIn .25s ease both}
    .fadeOut{animation:fadeOut .25s ease both}
    @keyframes fadeIn{from{opacity:0} to{opacity:1}}
    @keyframes fadeOut{from{opacity:1} to{opacity:0}}

    /* Result fade */
    .resultIn{animation:resultIn 1s ease both}
    @keyframes resultIn{from{opacity:0; transform: translateY(8px)} to{opacity:1; transform: translateY(0)}}

    .title{font-weight:700; font-size: clamp(22px,4vw,30px)}
    .subtitle {
  text-align: center;        /* centra horizontalmente */
  margin: 10px auto;         /* da espacio arriba y abajo */
  font-size: 1.2rem;         /* tama√±o de letra equilibrado */
  line-height: 1.4;          /* mejora la lectura */
  max-width: 600px;          /* evita que el texto se estire demasiado */
}
    .btn{
      display:inline-block; border:0; outline:0; cursor:pointer;
      background: var(--accent); color:#333; font-weight:600;
      padding:12px 18px; border-radius:12px; margin-top:14px;
      transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
      box-shadow:0 6px 16px rgba(0,0,0,.25);
    }
    .btn:hover{ transform: translateY(-1px) scale(1.02); filter: brightness(1.05)}
    .btn:active{ transform: translateY(0) scale(.98)}

    .progress{height:10px; width:100%; background:rgba(255,255,255,.25); border-radius:8px; overflow:hidden; margin-bottom:18px}
    .bar{height:100%; width:0%; background:var(--accent); transition:width .35s ease}

    .question{font-size:clamp(18px,3.2vw,22px); margin-bottom:14px}

    .options{display:flex; flex-direction:column; gap:10px}
    .option{
      display:flex; align-items:flex-start; gap:10px; text-align:left;
      background: rgba(255,255,255,.18);
      border:1px solid rgba(255,255,255,.25);
      border-radius:12px; padding:12px 14px; cursor:pointer;
      transition: background .2s ease, transform .1s ease;
    }
    .option:hover{background: rgba(255,255,255,.32)}
    .option input{margin-top:2px}

    .result-title{font-size:clamp(22px,3.6vw,28px); font-weight:800; margin-bottom:8px}
    .result-badge{display:inline-flex; align-items:center; gap:8px; font-weight:700; padding:8px 12px; border-radius:999px; background:rgba(255,255,255,.14); border:1px solid rgba(255,255,255,.25); margin-bottom:10px}
    .result-text{line-height:1.65}
    .divider{height:1px; background:rgba(255,255,255,.25); margin:16px 0}
    .muted{opacity:.95}

    .row{display:flex; gap:10px; flex-wrap:wrap; justify-content:center}
  </style>
</head>
<body>
  <!-- START SCREEN -->
  <div class="container fadeUp" id="start">
    <h1 class="title">‚ú® Tu Virtud Interior ‚ú®</h1>
    <p class="subtitle">Descubre qu√© virtud gu√≠a tus decisiones √©ticas y profesionales.</p>
    <div class="row">
      <button class="btn" id="startBtn">Comenzar Test</button>
    </div>
  </div>

  <!-- QUIZ -->
  <div class="container" id="quiz" style="display:none;">
    <div class="progress"><div class="bar" id="bar"></div></div>
    <div id="qwrap"></div>
    <div class="row">
      <button class="btn" id="nextBtn">Aceptar</button>
    </div>
  </div>

  <!-- RESULT -->
  <div class="container resultIn" id="result" style="display:none;"></div>

<script>
  // --- Data ---
  let questions = [
  {q:'Durante una calibraci√≥n, notas que un sensor de presi√≥n est√° fuera de rango, pero tu supervisor te dice que no hay tiempo para recalibrarlo. ¬øQu√© haces?', options:[
    {text:'Lo calibro de todos modos y reporto el retraso.', virtue:'Prudencia'},
    {text:'Lo dejo pasar, total el sistema funciona.', virtue:'Falta de Justicia'},
    {text:'Busco la forma de ajustarlo parcialmente sin detener el proceso.', virtue:'Falta de Prudencia'}]},

  {q:'En una planta, un colega altera datos de medici√≥n para evitar sanciones por una falla. ¬øQu√© haces?', options:[
    {text:'Reporto el hecho y explico la situaci√≥n con evidencias.', virtue:'Justicia'},
    {text:'Le advierto en privado para que lo corrija √©l.', virtue:'Templanza'},
    {text:'No intervengo, no quiero problemas.', virtue:'Falta de Fortaleza'}]},

  {q:'Debes decidir entre usar un repuesto certificado o uno gen√©rico m√°s barato que te sugieren para ahorrar costos.', options:[
    {text:'Uso el certificado y explico los riesgos del otro.', virtue:'Sabidur√≠a'},
    {text:'Uso el gen√©rico para ahorrar, aunque no cumpla norma.', virtue:'Falta de Prudencia'},
    {text:'Consulto antes de decidir y presento los datos t√©cnicos.', virtue:'Prudencia'}]},

  {q:'Un operador nuevo manipula mal un transmisor y genera una desviaci√≥n de lectura.', options:[
    {text:'Lo corrijo con calma y le ense√±o c√≥mo hacerlo bien.', virtue:'Entendimiento'},
    {text:'Le llamo la atenci√≥n delante de todos.', virtue:'Falta de Templanza'},
    {text:'Ignoro el error mientras el sistema siga funcionando.', virtue:'Falta de Justicia'}]},

  {q:'En una reuni√≥n t√©cnica, tus c√°lculos son cuestionados por un colega.', options:[
    {text:'Escucho su argumento y reviso mis datos con respeto.', virtue:'Templanza'},
    {text:'Me enojo y defiendo mi punto sin aceptar cr√≠ticas.', virtue:'Falta de Prudencia'},
    {text:'Le dejo la raz√≥n aunque s√© que est√° equivocado.', virtue:'Falta de Fortaleza'}]},

  {q:'Detectas que un controlador PLC tiene una falla intermitente y tu jefe sugiere ‚Äúreiniciarlo‚Äù en vez de investigarlo.', options:[
    {text:'Propongo analizar la causa para evitar riesgos futuros.', virtue:'Ciencia'},
    {text:'Hago lo que me dicen sin preguntar.', virtue:'Falta de Sabidur√≠a'},
    {text:'Reinicio y anoto el evento para analizarlo luego.', virtue:'Prudencia'}]},

  {q:'Un colega te pide tu clave para acceder al sistema SCADA y ‚Äúhacer una prueba r√°pida‚Äù.', options:[
    {text:'Me niego, la seguridad de acceso es personal.', virtue:'Justicia'},
    {text:'Se la presto porque conf√≠o en √©l.', virtue:'Falta de Prudencia'},
    {text:'Le explico el procedimiento correcto para hacerlo.', virtue:'Fortaleza'}]},

  {q:'Durante una parada de planta, el tiempo de entrega te presiona a saltarte pasos del procedimiento de bloqueo y etiquetado (LOTO).', options:[
    {text:'Sigo el procedimiento completo aunque tome m√°s tiempo.', virtue:'Fortaleza'},
    {text:'Hago lo justo para avanzar r√°pido.', virtue:'Falta de Prudencia'},
    {text:'Delego esa parte en otro para no involucrarme.', virtue:'Falta de Justicia'}]},

  {q:'Encuentras un dise√±o de circuito con riesgo de sobrecarga el√©ctrica.', options:[
    {text:'Corrijo el esquema y documento el cambio.', virtue:'Sabidur√≠a'},
    {text:'Informo al responsable, aunque no sea mi √°rea directa.', virtue:'Entendimiento'},
    {text:'No digo nada porque ‚Äúas√≠ se ha hecho siempre‚Äù.', virtue:'Falta de Fortaleza'}]},

  {q:'El sistema de control ambiental supera los l√≠mites permitidos y la alarma se desactiva temporalmente para evitar reportes.', options:[
    {text:'Reporto la situaci√≥n y exijo seguir el protocolo ambiental.', virtue:'Justicia'},
    {text:'Me quedo callado porque no quiero conflictos.', virtue:'Falta de Fortaleza'},
    {text:'Intento corregir la alarma sin decir nada.', virtue:'Falta de Prudencia'}]}
];

  // Shuffle util
  function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]];} return arr }

  // State
  let current=0; const scores={};
  const startEl = document.getElementById('start');
  const quizEl = document.getElementById('quiz');
  const resultEl = document.getElementById('result');
  const qwrap = document.getElementById('qwrap');
  const nextBtn = document.getElementById('nextBtn');
  const bar = document.getElementById('bar');

  document.getElementById('startBtn').addEventListener('click', ()=>{
    startQuiz();
  });

  function startQuiz(){
    // reset state
    current=0; for(const k in scores) delete scores[k];
    questions = shuffle(questions.map(q=>({q:q.q, options: shuffle([...q.options])})));
    startEl.style.display='none';
    resultEl.style.display='none';
    quizEl.style.display='block';
    renderQuestion();
  }

  function renderQuestion(){
    const total = questions.length;
    const q = questions[current];
    bar.style.width = `${(current/total)*100}%`;

    // Build HTML
    const opts = q.options.map((opt,i)=>{
      const name = `q${current}`;
      return `<label class="option"><input type="radio" name="${name}" value="${opt.virtue}"> ${opt.text}</label>`;
    }).join('');

    qwrap.classList.remove('fadeIn'); // ensure restart animation
    qwrap.innerHTML = `<div class="question">${current+1}. ${q.q}</div><div class="options">${opts}</div>`;
    void qwrap.offsetWidth; // reflow to restart animation
    qwrap.classList.add('fadeIn');

    nextBtn.textContent = (current === total-1) ? 'Ver resultado' : 'Aceptar';
  }

  nextBtn.addEventListener('click', ()=>{
    const checked = document.querySelector(`input[name='q${current}']:checked`);
    if(!checked){ alert('Por favor selecciona una opci√≥n.'); return; }
    const v = checked.value; scores[v] = (scores[v]||0)+1;

    // fade out current
    qwrap.classList.remove('fadeIn'); qwrap.classList.add('fadeOut');
    setTimeout(()=>{
      current++;
      if(current < questions.length){
        qwrap.classList.remove('fadeOut');
        renderQuestion();
      } else {
        showResult();
      }
    },250);
  });

  function showResult(){
  quizEl.style.display='none';
  resultEl.style.display='block';

  const topVirtue = Object.keys(scores).reduce((a,b)=> scores[a]>scores[b]?a:b);

  const icons = {'Prudencia':'üí°','Justicia':'‚öñÔ∏è','Fortaleza':'üî•','Templanza':'üíß','Sabidur√≠a':'üß†','Ciencia':'üî¨','Arte':'üé®','Entendimiento':'üß©'};
  const colors = {'Prudencia':'#ffeb3b','Justicia':'#2196f3','Fortaleza':'#f44336','Templanza':'#4caf50','Sabidur√≠a':'#9c27b0','Ciencia':'#00bcd4','Arte':'#ff9800','Entendimiento':'#8bc34a'};
  const descriptions = {
    'Prudencia':'Eres una persona prudente: reflexiva, equilibrada y paciente. Sueles anticiparte a las consecuencias y priorizar decisiones serenas por sobre impulsos moment√°neos. En el √°mbito laboral, esta virtud te ayuda a reducir riesgos, cuidar las relaciones y sostener compromisos responsables a largo plazo.',
    'Justicia':'Eres una persona justa: valoras la equidad, el respeto y la honestidad. Reconoces el m√©rito de los dem√°s y defiendes lo correcto incluso bajo presi√≥n. En tu trabajo, tu sentido de justicia genera confianza y fortalece equipos m√°s transparentes y colaborativos.',
    'Fortaleza':'Tienes fortaleza interior: afrontas la adversidad con determinaci√≥n y mantienes tus principios cuando aparecen dificultades. Aceptas retos con valent√≠a y resiliencia, lo que te vuelve un apoyo confiable para tu equipo en situaciones de alta exigencia.',
    'Templanza':'Eres templado: regulas tus emociones y respondes con sensatez ante el conflicto. Tu autocontrol favorece climas laborales arm√≥nicos y te permite escuchar, empatizar y decidir con calma aun cuando hay tensi√≥n o prisa.',
    'Sabidur√≠a':'Eres sabio: analizas en profundidad, aprendes de la experiencia y te orientas por el bien com√∫n. Te apoyas en la raz√≥n y en principios s√≥lidos para guiar decisiones complejas, convirti√©ndote en un referente sereno y confiable.',
    'Ciencia':'Tienes pensamiento cient√≠fico: observas, contrastas y fundamentas con evidencia. Tu enfoque riguroso mejora la calidad de los resultados y aporta criterios claros para decidir con √©tica y precisi√≥n.',
    'Arte':'Tienes esp√≠ritu creativo: imaginas alternativas y combinas est√©tica con funcionalidad. Tu mirada innovadora aporta soluciones originales con sentido y coherencia, enriqueciendo procesos y resultados.',
    'Entendimiento':'Eres comprensivo: conectas con las personas, interpretas contextos y acompa√±as con empat√≠a. Esta virtud crea confianza, mejora el trabajo en equipo y favorece aprendizajes compartidos.'
  };

  // üëá Reflexi√≥n personalizada (usa el bloque que pegaste en el paso 1)
  const reflections = {
    'Justicia':'Has demostrado ser una persona justa. Piensa c√≥mo puedes seguir siendo un ejemplo de equidad para los dem√°s.',
    'Prudencia':'Sueles pensar antes de actuar. Reflexiona c√≥mo tu calma puede inspirar a quienes se apresuran al decidir.',
    'Fortaleza':'Enfrentas las dificultades con valor. Considera c√≥mo esa fuerza puede ayudar a otros a no rendirse.',
    'Templanza':'Controlas bien tus emociones. Piensa c√≥mo puedes mantener esa serenidad incluso cuando otros pierden la calma.',
    'Sabidur√≠a':'Tomas decisiones con reflexi√≥n y equilibrio. ¬øC√≥mo podr√≠as compartir tu experiencia para ayudar a los dem√°s?',
    'Entendimiento':'Tienes empat√≠a y escuchas antes de juzgar. Piensa c√≥mo esa comprensi√≥n puede mejorar tu entorno.',
    'Arte':'Tu creatividad te ayuda a expresarte y mejorar lo que haces. Reflexiona c√≥mo puedes inspirar con tus ideas.',
    'Ciencia':'Analizas las cosas con l√≥gica y curiosidad. Piensa c√≥mo ese pensamiento cr√≠tico puede resolver problemas en tu entorno.'
  };

  const icon = icons[topVirtue]||'';
  const color = colors[topVirtue]||'#fff';
  const desc = descriptions[topVirtue] || 'Tu perfil combina varias virtudes de forma equilibrada. Mant√©n ese crecimiento √©tico y sigue fortaleciendo tus decisiones con reflexi√≥n y prop√≥sito.';
  const reflection = reflections[topVirtue] || 'Elige una acci√≥n sencilla para aplicar esta virtud en tu d√≠a a d√≠a.';

  resultEl.classList.remove('resultIn'); void resultEl.offsetWidth; resultEl.classList.add('resultIn');
  resultEl.innerHTML = `
    <div class="result-badge" style="border-color:${color}; color:${color}; background:rgba(255,255,255,.12)">${icon}<span>${topVirtue}</span></div>
    <div class="result-title" style="color:${color}">${icon} ${topVirtue}</div>
    <p class="result-text">${desc}</p>
    <div class="divider"></div>
    <p class="muted"><b>Reflexi√≥n:</b> ${reflection}</p>
    <div class="row"><button class="btn" id="restartBtn">Volver a jugar</button></div>
  `;

  document.getElementById('restartBtn').addEventListener('click', ()=>{
    resultEl.style.display='none';
    startEl.style.display='block';
  });
}
</script>
</body>
</html>
